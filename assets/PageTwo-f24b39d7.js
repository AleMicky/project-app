import{g as K,a as Z,s as j,_ as C,l as H,p as X,Y as J,b as Y,d,e as Q,Z as W,$ as E,h as U,a0 as ee,z as b,k as ae,J as ie,a1 as te,a2 as oe,a3 as x,a4 as ne,a5 as re,j as G,x as se,a6 as h,D as ce,a7 as le,L as T,a8 as pe,H as de,a9 as ue,K as fe}from"./index-e20d2d48.js";import{C as me,P as ge,H as xe}from"./HeaderBreadcrumbs-fa172268.js";import{r as S}from"./hey-listen.es-5d13c65f.js";const he=S.createContext(),_=he;function be(e){return K("MuiGrid",e)}const Se=[0,1,2,3,4,5,6,7,8,9,10],we=["column-reverse","column","row-reverse","row"],ve=["nowrap","wrap-reverse","wrap"],y=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],$=Z("MuiGrid",["root","container","item","zeroMinWidth",...Se.map(e=>`spacing-xs-${e}`),...we.map(e=>`direction-xs-${e}`),...ve.map(e=>`wrap-xs-${e}`),...y.map(e=>`grid-xs-${e}`),...y.map(e=>`grid-sm-${e}`),...y.map(e=>`grid-md-${e}`),...y.map(e=>`grid-lg-${e}`),...y.map(e=>`grid-xl-${e}`)]),ye=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function w(e){const a=parseFloat(e);return`${a}${String(e).replace(String(a),"")||"px"}`}function Ce({theme:e,ownerState:a}){let t;return e.breakpoints.keys.reduce((o,i)=>{let n={};if(a[i]&&(t=a[i]),!t)return o;if(t===!0)n={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(t==="auto")n={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const c=W({values:a.columns,breakpoints:e.breakpoints.values}),l=typeof c=="object"?c[i]:c;if(l==null)return o;const r=`${Math.round(t/l*1e8)/1e6}%`;let p={};if(a.container&&a.item&&a.columnSpacing!==0){const s=e.spacing(a.columnSpacing);if(s!=="0px"){const u=`calc(${r} + ${w(s)})`;p={flexBasis:u,maxWidth:u}}}n=C({flexBasis:r,flexGrow:0,maxWidth:r},p)}return e.breakpoints.values[i]===0?Object.assign(o,n):o[e.breakpoints.up(i)]=n,o},{})}function $e({theme:e,ownerState:a}){const t=W({values:a.direction,breakpoints:e.breakpoints.values});return E({theme:e},t,o=>{const i={flexDirection:o};return o.indexOf("column")===0&&(i[`& > .${$.item}`]={maxWidth:"none"}),i})}function L({breakpoints:e,values:a}){let t="";Object.keys(a).forEach(i=>{t===""&&a[i]!==0&&(t=i)});const o=Object.keys(e).sort((i,n)=>e[i]-e[n]);return o.slice(0,o.indexOf(t))}function ke({theme:e,ownerState:a}){const{container:t,rowSpacing:o}=a;let i={};if(t&&o!==0){const n=W({values:o,breakpoints:e.breakpoints.values});let c;typeof n=="object"&&(c=L({breakpoints:e.breakpoints.values,values:n})),i=E({theme:e},n,(l,r)=>{var p;const s=e.spacing(l);return s!=="0px"?{marginTop:`-${w(s)}`,[`& > .${$.item}`]:{paddingTop:w(s)}}:(p=c)!=null&&p.includes(r)?{}:{marginTop:0,[`& > .${$.item}`]:{paddingTop:0}}})}return i}function Ge({theme:e,ownerState:a}){const{container:t,columnSpacing:o}=a;let i={};if(t&&o!==0){const n=W({values:o,breakpoints:e.breakpoints.values});let c;typeof n=="object"&&(c=L({breakpoints:e.breakpoints.values,values:n})),i=E({theme:e},n,(l,r)=>{var p;const s=e.spacing(l);return s!=="0px"?{width:`calc(100% + ${w(s)})`,marginLeft:`-${w(s)}`,[`& > .${$.item}`]:{paddingLeft:w(s)}}:(p=c)!=null&&p.includes(r)?{}:{width:"100%",marginLeft:0,[`& > .${$.item}`]:{paddingLeft:0}}})}return i}function We(e,a,t={}){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[t[`spacing-xs-${String(e)}`]];const o=[];return a.forEach(i=>{const n=e[i];Number(n)>0&&o.push(t[`spacing-${i}-${String(n)}`])}),o}const Pe=j("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,a)=>{const{ownerState:t}=e,{container:o,direction:i,item:n,spacing:c,wrap:l,zeroMinWidth:r,breakpoints:p}=t;let s=[];o&&(s=We(c,p,a));const u=[];return p.forEach(f=>{const m=t[f];m&&u.push(a[`grid-${f}-${String(m)}`])}),[a.root,o&&a.container,n&&a.item,r&&a.zeroMinWidth,...s,i!=="row"&&a[`direction-xs-${String(i)}`],l!=="wrap"&&a[`wrap-xs-${String(l)}`],...u]}})(({ownerState:e})=>C({boxSizing:"border-box"},e.container&&{display:"flex",flexWrap:"wrap",width:"100%"},e.item&&{margin:0},e.zeroMinWidth&&{minWidth:0},e.wrap!=="wrap"&&{flexWrap:e.wrap}),$e,ke,Ge,Ce);function Re(e,a){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[`spacing-xs-${String(e)}`];const t=[];return a.forEach(o=>{const i=e[o];if(Number(i)>0){const n=`spacing-${o}-${String(i)}`;t.push(n)}}),t}const Te=e=>{const{classes:a,container:t,direction:o,item:i,spacing:n,wrap:c,zeroMinWidth:l,breakpoints:r}=e;let p=[];t&&(p=Re(n,r));const s=[];r.forEach(f=>{const m=e[f];m&&s.push(`grid-${f}-${String(m)}`)});const u={root:["root",t&&"container",i&&"item",l&&"zeroMinWidth",...p,o!=="row"&&`direction-xs-${String(o)}`,c!=="wrap"&&`wrap-xs-${String(c)}`,...s]};return U(u,be,a)},Ee=S.forwardRef(function(a,t){const o=H({props:a,name:"MuiGrid"}),{breakpoints:i}=X(),n=J(o),{className:c,columns:l,columnSpacing:r,component:p="div",container:s=!1,direction:u="row",item:f=!1,rowSpacing:m,spacing:g=0,wrap:v="wrap",zeroMinWidth:I=!1}=n,P=Y(n,ye),O=m||g,V=r||g,F=S.useContext(_),N=s?l||12:F,z={},B=C({},P);i.keys.forEach(k=>{P[k]!=null&&(z[k]=P[k],delete B[k])});const M=C({},n,{columns:N,container:s,direction:u,item:f,rowSpacing:O,columnSpacing:V,wrap:v,zeroMinWidth:I,spacing:g},z,{breakpoints:i.keys}),D=Te(M);return d(_.Provider,{value:N,children:d(Pe,C({ownerState:M,className:Q(D.root,c),as:p,ref:t},B))})}),R=Ee;function Ne(e){return e.toLowerCase()}var ze=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],Be=/[^A-Z0-9]+/gi;function Me(e,a){a===void 0&&(a={});for(var t=a.splitRegexp,o=t===void 0?ze:t,i=a.stripRegexp,n=i===void 0?Be:i,c=a.transform,l=c===void 0?Ne:c,r=a.delimiter,p=r===void 0?" ":r,s=q(q(e,o,"$1\0$2"),n,"\0"),u=0,f=s.length;s.charAt(u)==="\0";)u++;for(;s.charAt(f-1)==="\0";)f--;return s.slice(u,f).split("\0").map(l).join(p)}function q(e,a,t){return a instanceof RegExp?e.replace(a,t):a.reduce(function(o,i){return o.replace(i,t)},e)}function _e(e){return e.charAt(0).toUpperCase()+e.substr(1)}function qe(e){return _e(e.toLowerCase())}function je(e,a){return a===void 0&&(a={}),Me(e,ee({delimiter:" ",transform:qe},a))}j("span")(({theme:e,ownerState:a})=>{const t=e.palette.mode==="light",{color:o,variant:i}=a,n=r=>({color:e.palette[r].contrastText,backgroundColor:e.palette[r].main}),c=r=>({color:e.palette[r].main,backgroundColor:"transparent",border:`1px solid ${e.palette[r].main}`}),l=r=>({color:e.palette[r][t?"dark":"light"],backgroundColor:ae(e.palette[r].main,.16)});return{height:22,minWidth:22,lineHeight:0,borderRadius:6,cursor:"default",alignItems:"center",whiteSpace:"nowrap",display:"inline-flex",justifyContent:"center",padding:e.spacing(0,1),color:e.palette.grey[800],fontSize:e.typography.pxToRem(12),fontFamily:e.typography.fontFamily,backgroundColor:e.palette.grey[300],fontWeight:e.typography.fontWeightBold,...o!=="default"?{...i==="filled"&&{...n(o)},...i==="outlined"&&{...c(o)},...i==="ghost"&&{...l(o)}}:{...i==="outlined"&&{backgroundColor:"transparent",color:e.palette.text.primary,border:`1px solid ${e.palette.grey[50032]}`},...i==="ghost"&&{color:t?e.palette.text.secondary:e.palette.common.white,backgroundColor:e.palette.grey[50016]}}}});b.node,b.node,b.node,b.oneOf(["default","primary","secondary","info","success","warning","error"]),b.oneOf(["filled","outlined","ghost"]),b.object;A.propTypes={isEdit:b.bool,currentUser:b.object};function A({isEdit:e,currentUser:a}){const t=ie(),{enqueueSnackbar:o}=te(),i=oe().shape({warehouse:x().required("Se requiere el Warehouse"),descripcion:x().required("Se requiere el Descripcion"),cant:x().required("Se requiere el Cantida"),origen:x().required("Se requiere el Origen"),marca:x().required("Se requiere el Marca"),estado:x().required("Se requiere el Estado"),preciounit:x().required("Se requiere el Precio unitario"),preciototal:x().required("Se requiere el precio total")}),n=S.useMemo(()=>({warehouse:(a==null?void 0:a.warehouse)||"",descripcion:(a==null?void 0:a.descripcion)||"",cant:(a==null?void 0:a.cant)||"",origen:(a==null?void 0:a.origen)||"",marca:(a==null?void 0:a.marca)||"",estado:(a==null?void 0:a.estado)||"",preciounit:(a==null?void 0:a.preciounit)||"",preciototal:(a==null?void 0:a.preciototal)||""}),[a]),c=ne({resolver:pe(i),defaultValues:n}),{reset:l,watch:r,control:p,setValue:s,handleSubmit:u,formState:{isSubmitting:f}}=c;r(),S.useEffect(()=>{e&&a&&l(n),e||l(n)},[e,a]);const m=async()=>{try{await new Promise(g=>setTimeout(g,500)),l(),o(e?`Actualización exitosa
!`:"Crear éxito!"),t(T.mercaderia.list)}catch(g){console.error(g)}};return S.useCallback(g=>{const v=g[0];v&&s("avatarUrl",Object.assign(v,{preview:URL.createObjectURL(v)}))},[s]),d(re,{methods:c,onSubmit:u(m),children:G(R,{container:!0,spacing:3,children:[d(R,{item:!0,xs:12,md:6}),d(R,{item:!0,xs:12,md:8,children:G(me,{sx:{p:3},children:[G(se,{sx:{display:"grid",columnGap:2,rowGap:3,gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)"}},children:[d(h,{name:"warehouse",label:"Warehouse"}),d(h,{name:"descripcion",label:"Descripcion"}),d(h,{name:"cant",label:"Cantidad"}),d(h,{name:"origen",label:"Origen"}),d(h,{name:"estado",label:"Estado"}),d(h,{name:"marca",label:"Marca"}),d(h,{name:"preciounit",label:"Precio Unitario"}),d(h,{name:"preciototal",label:"Precio Total"})]}),d(ce,{alignItems:"flex-end",sx:{mt:3},children:d(le,{type:"submit",variant:"contained",loading:f,children:e?`Guardar cambios
`:"Crear Item"})})]})})]})})}function Oe(){const{themeStretch:e}=de(),{pathname:a}=ue(),t=a.includes("edit");return d(ge,{title:"Mercaderia: Crear",children:G(fe,{maxWidth:e?!1:"lg",children:[d(xe,{heading:t?"Editar Item":"Crear Item",links:[{name:"Dashboard",href:T.root},{name:"Mercaferia",href:T.mercaderia.list},{name:t?je(name):"Nuevo Item"}]}),d(A,{})]})})}export{Oe as default};
